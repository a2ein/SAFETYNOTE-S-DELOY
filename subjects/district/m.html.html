<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>64 Districts of Bangladesh Directory | ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂ ‡¶ú‡ßá‡¶≤‡¶æ ‡¶°‡¶ø‡¶∞‡ßá‡¶ï‡ßç‡¶ü‡¶∞‡¶ø</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for Inter font and mobile-like screen */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #e2e8f0; /* Soft Ash Background */
            display: flex;
            justify-content: center;
            padding: 0;
            margin: 0;
        }

        /* Simulating a mobile frame */
        .app-frame {
            width: 100%;
            max-width: 420px; /* Standard smartphone width */
            min-height: 100vh;
            background-color: #ffffff;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
        }

        .division-header {
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        .district-list {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            padding-left: 0.5rem;
            padding-right: 0.5rem;
        }
        .district-list.expanded {
            max-height: 3000px; 
            padding-top: 0.75rem;
            padding-bottom: 0.75rem;
        }
        /* New Compact District Item Style */
        .district-item {
            height: 90px; 
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.2s;
            border: none; /* Removing redundant border */
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
            justify-content: center; /* Center content in the tile */
        }
        .district-item:active {
            transform: scale(0.98);
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 50; 
            display: none; /* Ensure it starts hidden */
        }

        /* Modal specific styling for better mobile UX */
        .modal-content-scroll {
            max-height: 80vh; /* Max height for scrollable content */
            overflow-y: auto;
        }
        .modal-header-sticky {
            position: sticky;
            top: 0;
            background-color: #fff;
            z-index: 10;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }
    </style>
</head>
<body>

    <div class="app-frame">
        <div class="p-4">
            <!-- App-like Header/Dashboard Area -->
            <header class="mb-6 pt-2 pb-4 bg-emerald-600 text-white rounded-b-2xl shadow-xl">
                <div class="text-center">
                    <h1 class="text-2xl font-black">
                        üáßüá© ‡ß¨‡ß™ ‡¶ú‡ßá‡¶≤‡¶æ ‡¶™‡¶∞‡¶ø‡¶ö‡¶ø‡¶§‡¶ø ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°
                    </h1>
                    <p class="mt-1 text-sm font-light opacity-80">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶ú‡ßá‡¶≤‡¶æ‡¶ó‡ßÅ‡¶≤‡ßã ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶ú‡¶æ‡¶®‡ßÅ‡¶®</p>
                </div>
                
                <!-- Search and Action Bar - Compacted -->
                <div class="mt-4 px-2 flex gap-2">
                    <input type="text" id="searchInput" onkeyup="filterDistricts()" placeholder="‡¶ú‡ßá‡¶≤‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®..."
                        class="flex-grow p-2 text-sm text-gray-800 border-2 border-emerald-400 rounded-lg shadow-inner focus:ring-emerald-300 focus:border-emerald-300 transition duration-300">
                    
                    <button id="toggleAllBtn" onclick="toggleAllDivisions()"
                        class="px-3 py-2 text-xs bg-emerald-500 text-white font-semibold rounded-lg hover:bg-emerald-700 transition duration-300 active:scale-95">
                        Expand All
                    </button>
                </div>
            </header>

            <!-- Division Container (Mobile Scrollable Look) -->
            <div id="divisionContainer" class="space-y-4">
                <!-- Districts will be rendered here by JavaScript -->
            </div>

            <!-- Footer - Minimal -->
            <footer class="mt-8 text-center text-gray-500 text-xs">
                <p>&copy; 2025 BD Districts. | ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡¶æ‡¶¨‡¶≤‡¶ø‡¶ï ‡¶∏‡ßã‡¶∞‡ßç‡¶∏ ‡¶•‡ßá‡¶ï‡ßá ‡¶®‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§</p>
            </footer>

        </div>
    </div>

    <!-- District Details Modal -->
    <div id="districtModal" class="modal-backdrop items-center justify-center p-4" onclick="closeDistrictDetails()">
        <div class="bg-white rounded-xl shadow-2xl max-w-lg w-full transform transition-all overflow-hidden" onclick="event.stopPropagation()">
            <!-- Modal content wrapper with max height and scroll -->
            <div class="modal-content-scroll">
                <div class="p-6 md:p-8">
                    <!-- Modal Content goes here -->
                    <div id="modalContent"></div>
                </div>
            </div>
            
            <div class="p-4 border-t border-gray-100 flex justify-end">
                <button onclick="closeDistrictDetails()"
                        class="px-6 py-2 bg-indigo-500 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-600 transition duration-300 active:scale-95">
                    ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®
                </button>
            </div>
        </div>
    </div>
    
    <script>
        // Data for all 64 Districts, including Bengali names and historical highlights, emergency, and transport info.
        const districtsData = [
            { name: "‡¶¢‡¶æ‡¶ï‡¶æ ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó (Dhaka)", bn_name: "‡¶¢‡¶æ‡¶ï‡¶æ ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó", color: "from-emerald-600 to-green-700", districts: [
                { en: "Dhaka", bn: "‡¶¢‡¶æ‡¶ï‡¶æ", 
                    highlight_en: "Lalbagh Fort (Mughal), Ahsan Manzil", 
                    highlight_bn: "‡¶≤‡¶æ‡¶≤‡¶¨‡¶æ‡¶ó ‡¶ï‡ßá‡¶≤‡ßç‡¶≤‡¶æ, ‡¶Ü‡¶π‡¶∏‡¶æ‡¶® ‡¶Æ‡¶û‡ßç‡¶ú‡¶ø‡¶≤",
                    emergency_contacts: [
                        { type: "Police (Kotwali Upazila)", contact: "02-47118949", location: "Old Dhaka, Kotwali Thana" },
                        { type: "Hospital (DMCH)", contact: "02-9669352", location: "Dhaka Medical College" },
                        { type: "DC Office", contact: "02-47118320", location: "DC Office, Dhaka" }
                    ],
                    transport_info: {
                        train: "‡¶ï‡¶Æ‡¶≤‡¶æ‡¶™‡ßÅ‡¶∞ ‡¶∞‡ßá‡¶≤‡¶ì‡¶Ø‡¶º‡ßá ‡¶∏‡ßç‡¶ü‡ßá‡¶∂‡¶® (‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶ï‡ßá‡¶®‡ßç‡¶¶‡ßç‡¶∞)",
                        bus: "‡¶∏‡¶æ‡¶Ø‡¶º‡ßá‡¶¶‡¶æ‡¶¨‡¶æ‡¶¶, ‡¶ó‡¶æ‡¶¨‡¶§‡¶≤‡ßÄ, ‡¶Æ‡¶π‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ ‡¶ü‡¶æ‡¶∞‡ßç‡¶Æ‡¶ø‡¶®‡¶æ‡¶≤",
                        map_query: "Lalbagh Fort, Dhaka, Bangladesh",
                        visit_tip: "‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßÄ‡¶Ø‡¶º ‡¶≠‡ßç‡¶∞‡¶Æ‡¶£‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∞‡¶æ‡¶á‡¶°-‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶∏‡¶ï‡¶æ‡¶≤ ‡¶ì ‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ‡¶Ø‡¶º ‡¶§‡ßÄ‡¶¨‡ßç‡¶∞ ‡¶Ø‡¶æ‡¶®‡¶ú‡¶ü ‡¶è‡ßú‡¶ø‡ßü‡ßá ‡¶ö‡¶≤‡ßÅ‡¶®‡•§"
                    }
                }, 
                { en: "Faridpur", bn: "‡¶´‡¶∞‡¶ø‡¶¶‡¶™‡ßÅ‡¶∞", highlight_en: "Fatikchhari Math", highlight_bn: "‡¶´‡¶ü‡¶ø‡¶ï‡¶õ‡¶°‡¶º‡¶ø ‡¶Æ‡¶†" }, 
                { en: "Gazipur", bn: "‡¶ó‡¶æ‡¶ú‡ßÄ‡¶™‡ßÅ‡¶∞", highlight_en: "Bhawal National Park", highlight_bn: "‡¶≠‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º ‡¶â‡¶¶‡ßç‡¶Ø‡¶æ‡¶®" }, 
                { en: "Gopalganj", bn: "‡¶ó‡ßã‡¶™‡¶æ‡¶≤‡¶ó‡¶û‡ßç‡¶ú", highlight_en: "Bangabandhu Mausoleum (Tungipara)", highlight_bn: "‡¶¨‡¶ô‡ßç‡¶ó‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶∞ ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶ø ‡¶ï‡¶Æ‡¶™‡ßç‡¶≤‡ßá‡¶ï‡ßç‡¶∏ (‡¶ü‡ßÅ‡¶ô‡ßç‡¶ó‡¶ø‡¶™‡¶æ‡¶°‡¶º‡¶æ)" }, 
                { en: "Kishoreganj", bn: "‡¶ï‡¶ø‡¶∂‡ßã‡¶∞‡¶ó‡¶û‡ßç‡¶ú", highlight_en: "Egarosindhur Fort", highlight_bn: "‡¶á‡¶ó‡¶æ‡¶∞‡ßã‡¶∏‡¶ø‡¶®‡ßç‡¶¶‡ßÅ‡¶∞ ‡¶¶‡ßÅ‡¶∞‡ßç‡¶ó" }, 
                { en: "Madaripur", bn: "‡¶Æ‡¶æ‡¶¶‡¶æ‡¶∞‡ßÄ‡¶™‡ßÅ‡¶∞", highlight_en: "Shakuni Lake", highlight_bn: "‡¶∂‡¶ï‡ßÅ‡¶®‡¶ø ‡¶≤‡ßá‡¶ï" }, 
                { en: "Manikganj", bn: "‡¶Æ‡¶æ‡¶®‡¶ø‡¶ï‡¶ó‡¶û‡ßç‡¶ú", highlight_en: "Baliati Zamindar Bari", highlight_bn: "‡¶¨‡¶æ‡¶≤‡¶ø‡¶Ø‡¶º‡¶æ‡¶ü‡¶ø ‡¶ú‡¶Æ‡¶ø‡¶¶‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶°‡¶º‡¶ø" }, 
                { en: "Munshiganj", bn: "‡¶Æ‡ßÅ‡¶®‡ßç‡¶∏‡¶ø‡¶ó‡¶û‡ßç‡¶ú", highlight_en: "Idrakpur Fort", highlight_bn: "‡¶á‡¶¶‡ßç‡¶∞‡¶æ‡¶ï‡¶™‡ßÅ‡¶∞ ‡¶ï‡ßá‡¶≤‡ßç‡¶≤‡¶æ" }, 
                { en: "Narayanganj", bn: "‡¶®‡¶æ‡¶∞‡¶æ‡¶Ø‡¶º‡¶£‡¶ó‡¶û‡ßç‡¶ú", highlight_en: "Panam City (Sonargaon)", highlight_bn: "‡¶™‡¶æ‡¶®‡¶æ‡¶Æ ‡¶∏‡¶ø‡¶ü‡¶ø (‡¶∏‡ßã‡¶®‡¶æ‡¶∞‡¶ó‡¶æ‡¶Å‡¶ì)" }, 
                { en: "Narsingdi", bn: "‡¶®‡¶∞‡¶∏‡¶ø‡¶Ç‡¶¶‡ßÄ", highlight_en: "Wari-Bateshwar Ruins (Ancient Site)", highlight_bn: "‡¶â‡¶Ø‡¶º‡¶æ‡¶∞‡ßÄ-‡¶¨‡¶ü‡ßá‡¶∂‡ßç‡¶¨‡¶∞ (‡¶™‡ßç‡¶∞‡¶æ‡¶ö‡ßÄ‡¶® ‡¶∏‡ßç‡¶•‡¶æ‡¶®)" }, 
                { en: "Rajbari", bn: "‡¶∞‡¶æ‡¶ú‡¶¨‡¶æ‡¶°‡¶º‡ßÄ", highlight_en: "Rajbari Palace", highlight_bn: "‡¶∞‡¶æ‡¶ú‡¶¨‡¶æ‡¶°‡¶º‡ßÄ ‡¶™‡ßç‡¶∞‡¶æ‡¶∏‡¶æ‡¶¶" }, 
                { en: "Shariatpur", bn: "‡¶∂‡¶∞‡ßÄ‡¶Ø‡¶º‡¶§‡¶™‡ßÅ‡¶∞", highlight_en: "Mohanpur Hembabu Temple", highlight_bn: "‡¶Æ‡ßã‡¶π‡¶®‡¶™‡ßÅ‡¶∞ ‡¶π‡ßá‡¶Æ‡¶¨‡¶æ‡¶¨‡ßÅ ‡¶Æ‡¶®‡ßç‡¶¶‡¶ø‡¶∞" }, 
                { en: "Tangail", bn: "‡¶ü‡¶æ‡¶ô‡ßç‡¶ó‡¶æ‡¶á‡¶≤", highlight_en: "Atia Jame Mosque", highlight_bn: "‡¶Ü‡¶§‡¶ø‡¶Ø‡¶º‡¶æ ‡¶ú‡¶æ‡¶Æ‡ßá ‡¶Æ‡¶∏‡¶ú‡¶ø‡¶¶" }
            ]},
            { name: "‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó (Chattogram)", bn_name: "‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó", color: "from-blue-600 to-sky-700", districts: [
                { en: "Chattogram", bn: "‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ", highlight_en: "Foy's Lake & World War II Cemetery", highlight_bn: "‡¶´‡¶Ø‡¶º‡ßá‡¶ú ‡¶≤‡ßá‡¶ï ‡¶ì ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶∏‡¶ø‡¶Æ‡ßá‡¶ü‡ßç‡¶∞‡¶ø" }, 
                { en: "Bandarban", bn: "‡¶¨‡¶æ‡¶®‡ßç‡¶¶‡¶∞‡¶¨‡¶æ‡¶®", highlight_en: "Buddha Dhatu Jadi (Golden Temple)", highlight_bn: "‡¶¨‡ßÅ‡¶¶‡ßç‡¶ß ‡¶ß‡¶æ‡¶§‡ßÅ ‡¶ú‡¶æ‡¶¶‡¶ø (‡¶ó‡ßã‡¶≤‡ßç‡¶°‡ßá‡¶® ‡¶ü‡ßá‡¶Æ‡ßç‡¶™‡¶≤)" }, 
                { en: "Brahmanbaria", bn: "‡¶¨‡ßç‡¶∞‡¶æ‡¶π‡ßç‡¶Æ‡¶£‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶Ø‡¶º‡¶æ", highlight_en: "Kalbhairab Statue", highlight_bn: "‡¶ï‡¶æ‡¶≤‡¶≠‡ßà‡¶∞‡¶¨ ‡¶Æ‡ßÇ‡¶∞‡ßç‡¶§‡¶ø" }, 
                { en: "Chandpur", bn: "‡¶ö‡¶æ‡¶Å‡¶¶‡¶™‡ßÅ‡¶∞", highlight_en: "Mollar Bari", highlight_bn: "‡¶Æ‡ßã‡¶≤‡ßç‡¶≤‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶°‡¶º‡¶ø" }, 
                { en: "Cox's Bazar", bn: "‡¶ï‡¶ï‡ßç‡¶∏‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞", highlight_en: "Longest Sea Beach in the World", highlight_bn: "‡¶™‡ßÉ‡¶•‡¶ø‡¶¨‡ßÄ‡¶∞ ‡¶¶‡ßÄ‡¶∞‡ßç‡¶ò‡¶§‡¶Æ ‡¶∏‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞ ‡¶∏‡ßà‡¶ï‡¶§" }, 
                { en: "Cumilla", bn: "‡¶ï‡ßÅ‡¶Æ‡¶ø‡¶≤‡ßç‡¶≤‡¶æ", highlight_en: "Mainamati Ruins (Buddhist Sites)", highlight_bn: "‡¶Æ‡¶Ø‡¶º‡¶®‡¶æ‡¶Æ‡¶§‡¶ø ‡¶™‡ßç‡¶∞‡¶§‡ßç‡¶®‡¶§‡¶æ‡¶§‡ßç‡¶§‡ßç‡¶¨‡¶ø‡¶ï ‡¶∏‡ßç‡¶•‡¶æ‡¶®" }, 
                { en: "Feni", bn: "‡¶´‡ßá‡¶®‡ßÄ", highlight_en: "Feni Government College", highlight_bn: "‡¶´‡ßá‡¶®‡ßÄ ‡¶∏‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶ï‡¶≤‡ßá‡¶ú" }, 
                { en: "Khagrachhari", bn: "‡¶ñ‡¶æ‡¶ó‡¶°‡¶º‡¶æ‡¶õ‡¶°‡¶º‡¶ø", highlight_en: "Alutila Cave", highlight_bn: "‡¶Ü‡¶≤‡ßÅ‡¶ü‡¶ø‡¶≤‡¶æ ‡¶ó‡ßÅ‡¶π‡¶æ" }, 
                { en: "Lakshmipur", bn: "‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Æ‡ßÄ‡¶™‡ßÅ‡¶∞", highlight_en: "Dalal Bazar Zamindar Bari", highlight_bn: "‡¶¶‡¶æ‡¶≤‡¶æ‡¶≤ ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞ ‡¶ú‡¶Æ‡¶ø‡¶¶‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶°‡¶º‡¶ø" }, 
                { en: "Noakhali", bn: "‡¶®‡ßã‡¶Ø‡¶º‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ", highlight_en: "Nijhum Dwip (Island)", highlight_bn: "‡¶®‡¶ø‡¶ù‡ßÅ‡¶Æ ‡¶¶‡ßç‡¶¨‡ßÄ‡¶™" }, 
                { en: "Rangamati", bn: "‡¶∞‡¶æ‡¶ô‡ßç‡¶ó‡¶æ‡¶Æ‡¶æ‡¶ü‡¶ø", highlight_en: "Kaptai Lake", highlight_bn: "‡¶ï‡¶æ‡¶™‡ßç‡¶§‡¶æ‡¶á ‡¶π‡ßç‡¶∞‡¶¶" }
            ]},
            { name: "‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó (Khulna)", bn_name: "‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó", color: "from-amber-600 to-yellow-700", districts: [
                { en: "Khulna", bn: "‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ", highlight_en: "Khulna Divisional Museum", highlight_bn: "‡¶ñ‡ßÅ‡¶≤‡¶®‡¶æ ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó‡ßÄ‡¶Ø‡¶º ‡¶ú‡¶æ‡¶¶‡ßÅ‡¶ò‡¶∞" }, 
                { en: "Bagerhat", bn: "‡¶¨‡¶æ‡¶ó‡ßá‡¶∞‡¶π‡¶æ‡¶ü", highlight_en: "Sixty Dome Mosque (UNESCO)", highlight_bn: "‡¶∑‡¶æ‡¶ü ‡¶ó‡¶Æ‡ßç‡¶¨‡ßÅ‡¶ú ‡¶Æ‡¶∏‡¶ú‡¶ø‡¶¶" }, 
                { en: "Chuadanga", bn: "‡¶ö‡ßÅ‡¶Ø‡¶º‡¶æ‡¶°‡¶æ‡¶ô‡ßç‡¶ó‡¶æ", highlight_en: "Nilkuthi (Indigo Factory)", highlight_bn: "‡¶®‡ßÄ‡¶≤‡¶ï‡ßÅ‡¶†‡¶ø (‡¶Ü‡¶®‡ßç‡¶¶‡ßÅ‡¶≤‡¶¨‡¶æ‡¶°‡¶º‡ßÄ‡¶Ø‡¶º‡¶æ)" }, 
                { en: "Jashore", bn: "‡¶Ø‡¶∂‡ßã‡¶∞", highlight_en: "Michael Madhusudan Dutt's birthplace", highlight_bn: "‡¶Æ‡¶æ‡¶á‡¶ï‡ßá‡¶≤ ‡¶Æ‡¶ß‡ßÅ‡¶∏‡ßÇ‡¶¶‡¶® ‡¶¶‡¶§‡ßç‡¶§‡ßá‡¶∞ ‡¶¨‡¶æ‡¶°‡¶º‡¶ø" }, 
                { en: "Jhenaidah", bn: "‡¶ù‡¶ø‡¶®‡¶æ‡¶á‡¶¶‡¶π", highlight_en: "Naldanga Rajbari", highlight_bn: "‡¶®‡¶≤‡¶°‡¶æ‡¶ô‡ßç‡¶ó‡¶æ ‡¶∞‡¶æ‡¶ú‡¶¨‡¶æ‡¶°‡¶º‡ßÄ" }, 
                { en: "Kushtia", bn: "‡¶ï‡ßÅ‡¶∑‡ßç‡¶ü‡¶ø‡¶Ø‡¶º‡¶æ", highlight_en: "Kuthibari (Tagore's Residence)", highlight_bn: "‡¶ï‡ßÅ‡¶†‡¶ø‡¶¨‡¶æ‡¶°‡¶º‡¶ø (‡¶∞‡¶¨‡ßÄ‡¶®‡ßç‡¶¶‡ßç‡¶∞‡¶®‡¶æ‡¶•‡ßá‡¶∞)" }, 
                { en: "Meherpur", bn: "‡¶Æ‡ßá‡¶π‡ßá‡¶∞‡¶™‡ßÅ‡¶∞", 
                    highlight_en: "Mujibnagar Memorial Complex", 
                    highlight_bn: "‡¶Æ‡ßÅ‡¶ú‡¶ø‡¶¨‡¶®‡¶ó‡¶∞ ‡¶∏‡ßç‡¶Æ‡ßÉ‡¶§‡¶ø‡¶∏‡ßå‡¶ß ‡¶ï‡¶Æ‡¶™‡ßç‡¶≤‡ßá‡¶ï‡ßç‡¶∏",
                    emergency_contacts: [
                        { type: "Police (Gangni Upazila)", contact: "07922-56000", location: "Gangni Police Station" },
                        { type: "Hospital (Sadar)", contact: "07922-62283", location: "Meherpur Sadar Hospital" },
                        { type: "DC Office", contact: "07922-62222", location: "DC Office, Meherpur" }
                    ],
                    transport_info: {
                        train: "‡¶®‡¶ø‡¶ï‡¶ü‡¶∏‡ßç‡¶• ‡¶∏‡ßç‡¶ü‡ßá‡¶∂‡¶®: ‡¶¶‡¶∞‡ßç‡¶∂‡¶®‡¶æ (‡¶ö‡ßÅ‡¶Ø‡¶º‡¶æ‡¶°‡¶æ‡¶ô‡ßç‡¶ó‡¶æ) ‡¶¨‡¶æ ‡¶™‡ßã‡¶°‡¶º‡¶æ‡¶¶‡¶π (‡¶ï‡ßÅ‡¶∑‡ßç‡¶ü‡¶ø‡¶Ø‡¶º‡¶æ)",
                        bus: "‡¶¢‡¶æ‡¶ï‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶ú‡ßá.‡¶Ü‡¶∞ ‡¶™‡¶∞‡¶ø‡¶¨‡¶π‡¶®/‡¶è‡¶∏.‡¶¨‡¶ø ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶°‡¶ø‡¶≤‡¶æ‡¶ï‡ßç‡¶∏ ‡¶¨‡¶æ‡¶∏ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏",
                        map_query: "Mujibnagar Memorial Complex, Meherpur",
                        visit_tip: "‡¶Æ‡ßá‡¶π‡ßá‡¶∞‡¶™‡ßÅ‡¶∞ ‡¶∏‡¶¶‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶Æ‡ßÅ‡¶ú‡¶ø‡¶¨‡¶®‡¶ó‡¶∞ ‡¶Ø‡ßá‡¶§‡ßá ‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßÄ‡¶Ø‡¶º ‡¶Ø‡¶æ‡¶® (‡¶∏‡¶ø‡¶è‡¶®‡¶ú‡¶ø/‡¶á‡¶ú‡¶ø ‡¶¨‡¶æ‡¶á‡¶ï) ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§"
                    }
                }, 
                { en: "Magura", bn: "‡¶Æ‡¶æ‡¶ó‡ßÅ‡¶∞‡¶æ", highlight_en: "King Sreeram's Fortress", highlight_bn: "‡¶∞‡¶æ‡¶ú‡¶æ ‡¶∂‡ßç‡¶∞‡ßÄ‡¶∞‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶ï‡ßá‡¶≤‡ßç‡¶≤‡¶æ" }, 
                { en: "Narail", bn: "‡¶®‡¶°‡¶º‡¶æ‡¶á‡¶≤", highlight_en: "S.M. Sultan's Residence", highlight_bn: "‡¶è‡¶∏.‡¶è‡¶Æ. ‡¶∏‡ßÅ‡¶≤‡¶§‡¶æ‡¶®‡ßá‡¶∞ ‡¶¨‡¶æ‡¶°‡¶º‡¶ø" }, 
                { en: "Satkhira", bn: "‡¶∏‡¶æ‡¶§‡¶ï‡ßç‡¶∑‡ßÄ‡¶∞‡¶æ", highlight_en: "Sundarbans (Partially)", highlight_bn: "‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞‡¶¨‡¶® (‡¶Ü‡¶Ç‡¶∂‡¶ø‡¶ï)" }
            ]},
            { name: "‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó (Rajshahi)", bn_name: "‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó", color: "from-red-600 to-pink-700", districts: [
                { en: "Rajshahi", bn: "‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ", highlight_en: "Puthia Palace", highlight_bn: "‡¶™‡ßÅ‡¶†‡¶ø‡¶Ø‡¶º‡¶æ ‡¶∞‡¶æ‡¶ú‡¶¨‡¶æ‡¶°‡¶º‡ßÄ" }, 
                { en: "Bogura", bn: "‡¶¨‡¶ó‡ßÅ‡¶°‡¶º‡¶æ", highlight_en: "Mahasthangarh (Ancient Pundranagar)", highlight_bn: "‡¶Æ‡¶π‡¶æ‡¶∏‡ßç‡¶•‡¶æ‡¶®‡¶ó‡¶°‡¶º (‡¶™‡ßç‡¶∞‡¶æ‡¶ö‡ßÄ‡¶® ‡¶™‡ßÅ‡¶®‡ßç‡¶°‡ßç‡¶∞‡¶®‡¶ó‡¶∞)" }, 
                { en: "Chapai Nawabganj", bn: "‡¶ö‡¶æ‡¶Å‡¶™‡¶æ‡¶á‡¶®‡¶¨‡¶æ‡¶¨‡¶ó‡¶û‡ßç‡¶ú", highlight_en: "Chhoto Sona Mosque", highlight_bn: "‡¶õ‡ßã‡¶ü ‡¶∏‡ßã‡¶®‡¶æ ‡¶Æ‡¶∏‡¶ú‡¶ø‡¶¶" }, 
                { en: "Joypurhat", bn: "‡¶ú‡¶Ø‡¶º‡¶™‡ßÅ‡¶∞‡¶π‡¶æ‡¶ü", highlight_en: "Barashibpur Rajbari", highlight_bn: "‡¶¨‡¶æ‡¶∞‡¶∂‡¶ø‡¶¨‡¶™‡ßÅ‡¶∞ ‡¶∞‡¶æ‡¶ú‡¶¨‡¶æ‡¶°‡¶º‡ßÄ" }, 
                { en: "Naogaon", bn: "‡¶®‡¶ì‡¶ó‡¶æ‡¶Å", highlight_en: "Somapura Mahavihara (Paharpur, UNESCO)", highlight_bn: "‡¶∏‡ßã‡¶Æ‡¶™‡ßÅ‡¶∞ ‡¶Æ‡¶π‡¶æ‡¶¨‡¶ø‡¶π‡¶æ‡¶∞ (‡¶™‡¶æ‡¶π‡¶æ‡¶°‡¶º‡¶™‡ßÅ‡¶∞)" }, 
                { en: "Natore", bn: "‡¶®‡¶æ‡¶ü‡ßã‡¶∞", highlight_en: "Natore Rajbari (Queen Bhabani)", highlight_bn: "‡¶®‡¶æ‡¶ü‡ßã‡¶∞ ‡¶∞‡¶æ‡¶ú‡¶¨‡¶æ‡¶°‡¶º‡ßÄ" }, 
                { en: "Pabna", bn: "‡¶™‡¶æ‡¶¨‡¶®‡¶æ", highlight_en: "Hardinge Bridge", highlight_bn: "‡¶π‡¶æ‡¶∞‡ßç‡¶°‡¶ø‡¶û‡ßç‡¶ú ‡¶¨‡ßç‡¶∞‡¶ø‡¶ú" }, 
                { en: "Sirajganj", bn: "‡¶∏‡¶ø‡¶∞‡¶æ‡¶ú‡¶ó‡¶û‡ßç‡¶ú", highlight_en: "Ellenga Palace", highlight_bn: "‡¶è‡¶≤‡ßá‡¶ô‡ßç‡¶ó‡¶æ ‡¶∞‡¶æ‡¶ú‡¶¨‡¶æ‡¶°‡¶º‡ßÄ" }
            ]},
            { name: "‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞ ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó (Rangpur)", bn_name: "‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞ ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó", color: "from-cyan-600 to-teal-600", districts: [
                { en: "Rangpur", bn: "‡¶∞‡¶Ç‡¶™‡ßÅ‡¶∞", highlight_en: "Tajhat Palace Museum", highlight_bn: "‡¶§‡¶æ‡¶ú‡¶π‡¶æ‡¶ü ‡¶∞‡¶æ‡¶ú‡¶¨‡¶æ‡¶°‡¶º‡ßÄ" }, 
                { en: "Dinajpur", bn: "‡¶¶‡¶ø‡¶®‡¶æ‡¶ú‡¶™‡ßÅ‡¶∞", highlight_en: "Kantajew Temple (Terracotta)", highlight_bn: "‡¶ï‡¶æ‡¶®‡ßç‡¶§‡¶ú‡¶ø‡¶â ‡¶Æ‡¶®‡ßç‡¶¶‡¶ø‡¶∞" }, 
                { en: "Gaibandha", bn: "‡¶ó‡¶æ‡¶á‡¶¨‡¶æ‡¶®‡ßç‡¶ß‡¶æ", highlight_en: "Baliagura Zamindar Bari", highlight_bn: "‡¶¨‡¶æ‡¶≤‡¶ø‡¶Ø‡¶º‡¶æ‡¶ó‡ßÅ‡¶°‡¶º‡¶æ ‡¶ú‡¶Æ‡¶ø‡¶¶‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶°‡¶º‡ßÄ" }, 
                { en: "Kurigram", bn: "‡¶ï‡ßÅ‡¶°‡¶º‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ", highlight_en: "Chandra's Fort", highlight_bn: "‡¶ö‡¶æ‡¶Å‡¶¶‡ßá‡¶∞ ‡¶ï‡ßá‡¶≤‡ßç‡¶≤‡¶æ" }, 
                { en: "Lalmonirhat", bn: "‡¶≤‡¶æ‡¶≤‡¶Æ‡¶®‡¶ø‡¶∞‡¶π‡¶æ‡¶ü", highlight_en: "Burimari Land Port", highlight_bn: "‡¶¨‡ßÅ‡¶°‡¶º‡¶ø‡¶Æ‡¶æ‡¶∞‡ßÄ ‡¶∏‡ßç‡¶•‡¶≤ ‡¶¨‡¶®‡ßç‡¶¶‡¶∞" }, 
                { en: "Nilphamari", bn: "‡¶®‡ßÄ‡¶≤‡¶´‡¶æ‡¶Æ‡¶æ‡¶∞‡ßÄ", highlight_en: "Nil Sagar (Lake)", highlight_bn: "‡¶®‡ßÄ‡¶≤ ‡¶∏‡¶æ‡¶ó‡¶∞" }, 
                { en: "Panchagarh", bn: "‡¶™‡¶û‡ßç‡¶ö‡¶ó‡¶°‡¶º", highlight_en: "Maharaja Dighi", highlight_bn: "‡¶Æ‡¶π‡¶æ‡¶∞‡¶æ‡¶ú‡¶æ ‡¶¶‡¶ø‡¶ò‡ßÄ" }, 
                { en: "Thakurgaon", bn: "‡¶†‡¶æ‡¶ï‡ßÅ‡¶∞‡¶ó‡¶æ‡¶Å‡¶ì", highlight_en: "Jamalpur Zamindar Bari", highlight_bn: "‡¶ú‡¶æ‡¶Æ‡¶æ‡¶≤‡¶™‡ßÅ‡¶∞ ‡¶ú‡¶Æ‡¶ø‡¶¶‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶°‡¶º‡ßÄ" }
            ]},
            { name: "‡¶∏‡¶ø‡¶≤‡ßá‡¶ü ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó (Sylhet)", bn_name: "‡¶∏‡¶ø‡¶≤‡ßá‡¶ü ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó", color: "from-lime-600 to-emerald-600", districts: [
                { en: "Sylhet", bn: "‡¶∏‡¶ø‡¶≤‡ßá‡¶ü", highlight_en: "Hazrat Shah Jalal Shrine, Jaflong", highlight_bn: "‡¶π‡¶Ø‡¶∞‡¶§ ‡¶∂‡¶æ‡¶π‡¶ú‡¶æ‡¶≤‡¶æ‡¶≤ (‡¶∞‡¶æ‡¶É) ‡¶è‡¶∞ ‡¶Æ‡¶æ‡¶ú‡¶æ‡¶∞, ‡¶ú‡¶æ‡¶´‡¶≤‡¶Ç" }, 
                { en: "Habiganj", bn: "‡¶π‡¶¨‡¶ø‡¶ó‡¶û‡ßç‡¶ú", highlight_en: "Shankarpasha Shahi Mosque", highlight_bn: "‡¶∂‡¶ô‡ßç‡¶ï‡¶∞‡¶™‡¶æ‡¶∂‡¶æ ‡¶∂‡¶æ‡¶π‡ßÄ ‡¶Æ‡¶∏‡¶ú‡¶ø‡¶¶" }, 
                { en: "Moulvibazar", bn: "‡¶Æ‡ßå‡¶≤‡¶≠‡ßÄ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞", highlight_en: "Tea Gardens (Srimangal)", highlight_bn: "‡¶ö‡¶æ ‡¶¨‡¶æ‡¶ó‡¶æ‡¶® (‡¶∂‡ßç‡¶∞‡ßÄ‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤)" }, 
                { en: "Sunamganj", bn: "‡¶∏‡ßÅ‡¶®‡¶æ‡¶Æ‡¶ó‡¶û‡ßç‡¶ú", highlight_en: "Hason Raja Museum", highlight_bn: "‡¶π‡¶æ‡¶∏‡¶® ‡¶∞‡¶æ‡¶ú‡¶æ ‡¶Æ‡¶ø‡¶â‡¶ú‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ" }
            ]},
            { name: "‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤ ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó (Barishal)", bn_name: "‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤ ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó", color: "from-indigo-600 to-purple-700", districts: [
                { en: "Barishal", bn: "‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤", highlight_en: "Durga Sagar Dighi", highlight_bn: "‡¶¶‡ßÅ‡¶∞‡ßç‡¶ó‡¶æ‡¶∏‡¶æ‡¶ó‡¶∞ ‡¶¶‡¶ø‡¶ò‡¶ø" }, 
                { en: "Bhola", bn: "‡¶≠‡ßã‡¶≤‡¶æ", highlight_en: "Char Kukri Mukri", highlight_bn: "‡¶ö‡¶∞ ‡¶ï‡ßÅ‡¶ï‡¶∞‡¶ø ‡¶Æ‡ßÅ‡¶ï‡¶∞‡¶ø" }, 
                { en: "Jhalokati", bn: "‡¶ù‡¶æ‡¶≤‡¶ï‡¶æ‡¶†‡¶ø", highlight_en: "Sugandha River", highlight_bn: "‡¶∏‡ßÅ‡¶ó‡¶®‡ßç‡¶ß‡¶æ ‡¶®‡¶¶‡ßÄ" }, 
                { en: "Patuakhali", bn: "‡¶™‡¶ü‡ßÅ‡¶Ø‡¶º‡¶æ‡¶ñ‡¶æ‡¶≤‡ßÄ", highlight_en: "Kuakata Sea Beach", highlight_bn: "‡¶ï‡ßÅ‡¶Ø‡¶º‡¶æ‡¶ï‡¶æ‡¶ü‡¶æ ‡¶∏‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞ ‡¶∏‡ßà‡¶ï‡¶§" }, 
                { en: "Pirojpur", bn: "‡¶™‡¶ø‡¶∞‡ßã‡¶ú‡¶™‡ßÅ‡¶∞", highlight_en: "Baleshwar River", highlight_bn: "‡¶¨‡¶≤‡ßá‡¶∂‡ßç‡¶¨‡¶∞ ‡¶®‡¶¶‡ßÄ" }, 
                { en: "Barguna", bn: "‡¶¨‡¶∞‡¶ó‡ßÅ‡¶®‡¶æ", highlight_en: "Bibichini Mosque", highlight_bn: "‡¶¨‡¶ø‡¶¨‡¶ø‡¶ö‡¶ø‡¶®‡¶ø ‡¶Æ‡¶∏‡¶ú‡¶ø‡¶¶" }
            ]},
            { name: "‡¶Æ‡¶Ø‡¶º‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó (Mymensingh)", bn_name: "‡¶Æ‡¶Ø‡¶º‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó", color: "from-pink-600 to-rose-700", districts: [
                { en: "Mymensingh", bn: "‡¶Æ‡¶Ø‡¶º‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π", highlight_en: "Mymensingh Museum, Shashi Lodge", highlight_bn: "‡¶Æ‡¶Ø‡¶º‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π ‡¶ú‡¶æ‡¶¶‡ßÅ‡¶ò‡¶∞, ‡¶∂‡¶∂‡ßÄ ‡¶≤‡¶ú" }, 
                { en: "Jamalpur", bn: "‡¶ú‡¶æ‡¶Æ‡¶æ‡¶≤‡¶™‡ßÅ‡¶∞", highlight_en: "Dayamoyee Temple", highlight_bn: "‡¶¶‡¶Ø‡¶º‡¶æ‡¶Æ‡¶Ø‡¶º‡ßÄ ‡¶Æ‡¶®‡ßç‡¶¶‡¶ø‡¶∞" }, 
                { en: "Netrokona", bn: "‡¶®‡ßá‡¶§‡ßç‡¶∞‡¶ï‡ßã‡¶£‡¶æ", highlight_en: "Birishiri (Ethnic Culture)", highlight_bn: "‡¶¨‡¶ø‡¶∞‡¶ø‡¶∂‡¶ø‡¶∞‡¶ø (‡¶Ü‡¶¶‡¶ø‡¶¨‡¶æ‡¶∏‡ßÄ ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡ßÉ‡¶§‡¶ø)" }, 
                { en: "Sherpur", bn: "‡¶∂‡ßá‡¶∞‡¶™‡ßÅ‡¶∞", highlight_en: "Gajni Abakash Kendra (Eco-Park)", highlight_bn: "‡¶ó‡¶ú‡¶®‡ßÄ ‡¶Ö‡¶¨‡¶ï‡¶æ‡¶∂ ‡¶ï‡ßá‡¶®‡ßç‡¶¶‡ßç‡¶∞" }
            ]}
        ];

        // Fill remaining districts with structured default emergency/transport info
        districtsData.forEach(division => {
            division.districts.forEach(district => {
                if (!district.emergency_contacts || district.emergency_contacts.length < 3) {
                    // Using a structured default set
                    district.emergency_contacts = [
                        { type: "Police (National Hotline)", contact: "999", location: "‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø ‡¶∏‡ßá‡¶¨‡¶æ" },
                        { type: "Hospital (Sadar)", contact: "0XXXXXXXXXX", location: `${district.bn} ‡¶∏‡¶¶‡¶∞ ‡¶π‡¶æ‡¶∏‡¶™‡¶æ‡¶§‡¶æ‡¶≤` },
                        { type: "DC Office", contact: "0XXXXXXXXXX", location: `${district.bn} ‡¶ú‡ßá‡¶≤‡¶æ ‡¶™‡ßç‡¶∞‡¶∂‡¶æ‡¶∏‡¶ï ‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º` }
                    ];
                }
                
                if (!district.transport_info) {
                    district.transport_info = {
                        train: "‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶∞‡ßá‡¶≤ ‡¶∏‡ßç‡¶ü‡ßá‡¶∂‡¶®: ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø",
                        bus: `${district.en} ‡¶ï‡ßá‡¶®‡ßç‡¶¶‡ßç‡¶∞‡ßÄ‡¶Ø‡¶º ‡¶¨‡¶æ‡¶∏ ‡¶ü‡¶æ‡¶∞‡ßç‡¶Æ‡¶ø‡¶®‡¶æ‡¶≤`,
                        map_query: `${district.en} District Sadar Hospital, Bangladesh`,
                        visit_tip: "‡¶≠‡ßç‡¶∞‡¶Æ‡¶£‡ßá‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßÄ‡¶Ø‡¶º ‡¶™‡¶∞‡¶ø‡¶¨‡¶π‡¶® (‡¶∏‡¶ø‡¶è‡¶®‡¶ú‡¶ø/‡¶∞‡¶ø‡¶ï‡¶∂‡¶æ/‡¶¨‡¶æ‡¶∏) ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶ú‡ßá‡¶®‡ßá ‡¶®‡¶ø‡¶®‡•§"
                    };
                }
            });
        });

        let allExpanded = false;
        const divisionContainer = document.getElementById('divisionContainer');
        const toggleAllBtn = document.getElementById('toggleAllBtn');

        // Function to safely extract a phone number for dialling (removing all non-digit chars except plus)
        function getDialableNumber(contact) {
            if (!contact) return '';
            const numberPart = contact.split('/')[0].trim();
            // Allows only digits and + for international compatibility
            return numberPart.replace(/[^0-9+]/g, ''); 
        }

        // Function to show district details in a modal
        function showDistrictDetails(divisionIndex, districtIndex) {
            const division = districtsData[divisionIndex];
            const district = division.districts[districtIndex];
            const modal = document.getElementById('districtModal');
            const modalContent = document.getElementById('modalContent');

            // Emergency Contacts HTML Generation
            const emergencyHtml = district.emergency_contacts.map(e => `
                <div class="flex justify-between items-center py-2 border-b border-gray-200">
                    <div class="flex-1 min-w-0">
                        <p class="font-medium text-sm text-gray-800">${e.type}</p>
                        <p class="text-xs text-gray-500 truncate">${e.location}</p>
                    </div>
                    <a href="tel:${getDialableNumber(e.contact)}" 
                        class="text-sm font-bold text-red-500 hover:text-red-700 ml-2 active:scale-95 transition-transform"
                        title="Call ${e.contact.split('/')[0].trim()}">
                        üìû ${e.contact.split('/')[0].trim()}
                    </a>
                </div>
            `).join('');

            // Transport Map Link
            const mapLink = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(district.transport_info.map_query || district.en)}`;

            // Populate modal content
            modalContent.innerHTML = `
                <div class="modal-header-sticky">
                    <h3 class="text-3xl font-black text-gray-800">${district.en} <span class="text-2xl font-light">(${district.bn})</span></h3>
                    <p class="text-lg font-medium text-emerald-600">${division.name}</p>
                </div>
                
                <div class="space-y-6 mt-4">
                    <!-- Section 1: Heritage Highlights -->
                    <div class="p-4 bg-gray-100 border-l-4 border-indigo-500 rounded-lg shadow-inner">
                        <h4 class="text-xl font-bold mb-2 text-indigo-700 flex items-center">
                            <span class="mr-2 text-2xl">üèõÔ∏è</span>‡¶ê‡¶§‡¶ø‡¶π‡¶æ‡¶∏‡¶ø‡¶ï ‡¶∏‡ßç‡¶•‡¶æ‡¶® / Heritage
                        </h4>
                        <p class="text-gray-700 font-medium">${district.highlight_en}</p>
                        <p class="text-gray-500 text-sm italic mt-1">${district.highlight_bn}</p>
                    </div>

                    <!-- Section 2: Emergency Contacts -->
                    <div class="p-4 bg-red-50 border-l-4 border-red-500 rounded-lg shadow-inner">
                        <h4 class="text-xl font-bold mb-3 text-red-700 flex items-center">
                            <span class="mr-2 text-2xl">üö®</span>‡¶ú‡¶∞‡ßÅ‡¶∞‡ßÄ ‡¶™‡¶∞‡¶ø‡¶∑‡ßá‡¶¨‡¶æ / Emergency Contacts
                        </h4>
                        <div class="divide-y divide-gray-200">
                            ${emergencyHtml}
                        </div>
                        <p class="mt-3 text-xs text-gray-500">*‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡ßØ‡ßØ‡ßØ-‡¶è ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßÄ‡¶Ø‡¶º ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞‡¶ó‡ßÅ‡¶≤‡ßã ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡ßá ‡¶®‡¶ø‡¶®‡•§</p>
                    </div>

                    <!-- Section 3: Visit & Transport Guide -->
                    <div class="p-4 bg-blue-50 border-l-4 border-blue-500 rounded-lg shadow-inner">
                        <h4 class="text-xl font-bold mb-2 text-blue-700 flex items-center">
                            <span class="mr-2 text-2xl">üöå</span>‡¶≠‡ßç‡¶∞‡¶Æ‡¶£ ‡¶ó‡¶æ‡¶á‡¶° ‡¶ì ‡¶™‡¶∞‡¶ø‡¶¨‡¶π‡¶®
                        </h4>
                        <p class="text-sm"><strong class="text-gray-700">‡¶ü‡ßç‡¶∞‡ßá‡¶®:</strong> ${district.transport_info.train}</p>
                        <p class="text-sm mt-1"><strong class="text-gray-700">‡¶¨‡¶æ‡¶∏:</strong> ${district.transport_info.bus}</p>
                        <p class="text-xs italic mt-2 text-gray-500"><strong class="text-gray-700">‡¶ü‡¶ø‡¶™‡¶∏:</strong> ${district.transport_info.visit_tip}</p>
                        
                        <a href="${mapLink}" target="_blank" 
                           class="mt-3 inline-flex items-center text-sm font-semibold text-white bg-green-600 px-4 py-2 rounded-lg hover:bg-green-700 transition duration-300">
                           <span class="mr-1">üó∫Ô∏è</span> ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶™‡ßá ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶® (Google Maps)
                        </a>
                    </div>
                </div>
            `;

            // Show the modal
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        // Function to close the modal
        function closeDistrictDetails() {
            const modal = document.getElementById('districtModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        // Function to render the list of divisions and districts
        function renderDivisions(data) {
            divisionContainer.innerHTML = '';
            data.forEach((division, index) => {
                const divisionId = `division-${index}`;
                const listId = `list-${index}`;
                
                // Construct the HTML structure for the division card
                const divisionCard = document.createElement('div');
                divisionCard.className = 'bg-white rounded-xl shadow-lg overflow-hidden';
                divisionCard.innerHTML = `
                    <div id="${divisionId}" onclick="toggleDivision('${listId}', '${divisionId}')" 
                         class="division-header p-4 bg-gradient-to-r ${division.color} text-white hover:opacity-90 transition duration-300 flex justify-between items-center rounded-xl shadow-md cursor-pointer">
                        <h2 class="text-lg md:text-xl font-bold">${division.name}</h2>
                        <span id="icon-${divisionId}" class="text-xl transition-transform transform duration-300">‚ñº</span>
                    </div>
                    
                    <div id="${listId}" class="district-list bg-gray-50">
                        <div class="grid grid-cols-3 sm:grid-cols-4 gap-2 p-2 md:p-3">
                            ${division.districts.map((d, districtIndex) => `
                                <div onclick="showDistrictDetails(${index}, ${districtIndex})"
                                    class="p-2 bg-white rounded-lg shadow-md hover:shadow-lg hover:bg-emerald-50 transition duration-300 text-center district-item flex flex-col items-center justify-center">
                                    <span class="text-2xl mb-1">üìç</span>
                                    <p class="font-bold text-gray-800 text-xs truncate">${d.en}</p>
                                    <p class="text-[10px] text-gray-500 truncate">${d.bn}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                divisionContainer.appendChild(divisionCard);

                // Initialize state (collapsed)
                const listElement = document.getElementById(listId);
                const iconElement = document.getElementById(`icon-${divisionId}`);
                if (listElement && iconElement) {
                    listElement.classList.remove('expanded');
                    iconElement.style.transform = 'rotate(0deg)';
                }
            });
        }

        // Toggle visibility of a single division list
        function toggleDivision(listId, headerId) {
            const list = document.getElementById(listId);
            const icon = document.getElementById(`icon-${headerId}`);
            if (list.classList.contains('expanded')) {
                list.classList.remove('expanded');
                icon.style.transform = 'rotate(0deg)';
            } else {
                list.classList.add('expanded');
                icon.style.transform = 'rotate(180deg)';
            }
        }

        // Toggle all divisions open or closed
        function toggleAllDivisions() {
            allExpanded = !allExpanded;
            const lists = document.querySelectorAll('.district-list');
            const icons = document.querySelectorAll('[id^="icon-division-"]');
            
            lists.forEach(list => {
                list.classList.toggle('expanded', allExpanded);
            });
            icons.forEach(icon => {
                icon.style.transform = allExpanded ? 'rotate(180deg)' : 'rotate(0deg)';
            });

            toggleAllBtn.textContent = allExpanded ? 'Collapse All' : 'Expand All';
        }

        // Filter function - updated to search highlights as well
        function filterDistricts() {
            const input = document.getElementById('searchInput');
            const filter = input.value.toLowerCase().trim();
            const divisionCards = divisionContainer.children;
            let foundMatch = false;

            for (let i = 0; i < divisionCards.length; i++) {
                const divisionCard = divisionCards[i];
                const districtItems = divisionCard.querySelectorAll('.district-item');
                const list = divisionCard.querySelector('.district-list');
                const header = divisionCard.querySelector('.division-header');
                const headerId = header.id;
                const icon = document.getElementById(`icon-${headerId}`);
                let divisionHasMatch = false;
                
                districtItems.forEach(item => {
                    const textContent = item.textContent.toLowerCase();
                    if (textContent.includes(filter)) {
                        item.style.display = 'flex'; 
                        divisionHasMatch = true;
                        foundMatch = true;
                    } else {
                        item.style.display = 'none'; 
                    }
                });

                if (filter === "") {
                    divisionCard.style.display = 'block';
                    list.classList.remove('expanded');
                    icon.style.transform = 'rotate(0deg)';
                    toggleAllBtn.textContent = 'Expand All';
                    allExpanded = false;
                } else if (divisionHasMatch) {
                    divisionCard.style.display = 'block';
                    list.classList.add('expanded');
                    icon.style.transform = 'rotate(180deg)';
                } else {
                    divisionCard.style.display = 'none';
                }
            }
        }

        // Initial rendering of the divisions
        window.onload = () => {
            renderDivisions(districtsData);
            document.getElementById('districtModal').addEventListener('click', closeDistrictDetails);
        };
    </script>
</body>
</html>
